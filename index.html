<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>…</title>

  <!-- Шрифты -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Great+Vibes&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">

  <meta name="theme-color" content="#0b0b12" />

  <style>
    :root{
      --text: rgba(255,255,255,.96);
      --border: rgba(255,255,255,.18);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
      --r: 22px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; scroll-behavior:smooth; }
    body{
      margin:0;
      color:var(--text);
      background:#0b0b12;
      overflow-x:hidden;
      font-family:"Cormorant Garamond", serif;
    }

    /* фон */
    .bg{
      position:fixed; inset:0; z-index:-4;
      background:
        radial-gradient(1000px 700px at 20% 15%, rgba(170,90,255,.16), transparent 55%),
        radial-gradient(900px 650px at 85% 30%, rgba(90,210,255,.12), transparent 55%),
        radial-gradient(900px 700px at 50% 95%, rgba(255,90,130,.12), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.88));
    }
    .bg::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(1200px 720px at 50% 10%, rgba(0,0,0,.07), rgba(0,0,0,.70));
      pointer-events:none;
    }

    /* звёзды */
    #stars{ position:fixed; inset:0; z-index:-3; pointer-events:none; opacity:.75; }

    /* контейнер */
    .wrap{
      min-height:100%;
      display:grid;
      place-items:start center;
      padding:22px 16px 52px;
    }
    .paper{
      width:min(920px,100%);
      border-radius:var(--r);
      border:1px solid var(--border);
      background:rgba(0,0,0,.46);
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .content{ padding:22px 20px 18px; }

    /* подсказка прокрутки */
    .scrollHint{
      position: sticky;
      top: 10px;
      width: 100%;
      display:flex;
      justify-content:center;
      z-index: 5;
      pointer-events:none;
      margin-bottom: 10px;
    }
    .scrollPill{
      pointer-events:auto;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.40);
      box-shadow: 0 12px 26px rgba(0,0,0,.35);
      color: rgba(255,255,255,.88);
      font-family:"Montserrat", sans-serif;
      font-size:12.8px;
      letter-spacing:.2px;
      opacity:0;
      transform: translateY(-6px);
      transition: opacity .6s ease, transform .6s ease;
      user-select:none;
    }
    .scrollPill.show{ opacity:1; transform: translateY(0); }
    .arrow{
      width: 18px; height: 18px;
      display:inline-block;
      border-right:2px solid rgba(255,255,255,.85);
      border-bottom:2px solid rgba(255,255,255,.85);
      transform: rotate(45deg);
      margin-bottom: 2px;
      animation: bounce 1.6s ease-in-out infinite;
      opacity:.9;
    }
    @keyframes bounce{
      0%,100%{ transform: rotate(45deg) translate(0,0); }
      50%{ transform: rotate(45deg) translate(2px,2px); }
    }

    /* заголовок */
    .title{
      font-family:"Great Vibes", cursive;
      font-size:clamp(34px,5.4vw,54px);
      margin:6px 0 14px;
      opacity:0;
      transform:translateY(14px);
      transition:opacity 1s ease, transform 1s ease;
      text-shadow: 0 2px 18px rgba(0,0,0,.55);
    }
    .title.show{ opacity:1; transform:none; }

    /* текст */
    .letter{ margin-top: 4px; }
    .line{
      font-size: 20px;
      line-height: 1.62;
      font-weight: 400;
      margin: 0;
      opacity:0;
      transform:translateY(10px);
      transition:opacity 1.05s ease, transform 1.05s ease;
      text-shadow: 0 2px 18px rgba(0,0,0,.55);
      white-space: pre-wrap;
    }
    .line.show{ opacity:1; transform:none; }
    .spacer{ height:14px; }

    /* вставки фото между текстом */
    .photoBlock{
      margin: 16px 0 18px;
      display:grid;
      gap:12px;
      opacity:0;
      transform: translateY(12px);
      transition: opacity 1s ease, transform 1s ease;
    }
    .photoBlock.show{ opacity:1; transform:none; }

    .photoBlock.one{ grid-template-columns: 1fr; }
    .photoBlock.two{ grid-template-columns: 1fr 1fr; }

    @media (max-width: 640px){
      .photoBlock.two{ grid-template-columns: 1fr; }
    }

    /* Polaroid */
    .polaroid{
      background: rgba(255,255,255,.96);
      color:#111;
      border-radius: 14px;
      padding: 10px 10px 14px;
      box-shadow: 0 18px 50px rgba(0,0,0,.45);
      position: relative;
      overflow: hidden;
      transform: rotate(var(--rot, -2deg));
    }
    .polaroid::before{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(140px 100px at 22% 12%, rgba(255,255,255,.65), rgba(255,255,255,0));
      pointer-events:none;
      opacity:.55;
    }
    .photo{
      width:100%;
      border-radius: 10px;
      overflow:hidden;
      background:#eaeaea;
      aspect-ratio: 4 / 3;
    }
    .polaroid.wide .photo{ aspect-ratio: 16 / 9; }
    .photo img{ width:100%; height:100%; object-fit:cover; display:block; }

    .caption{
      margin-top:10px;
      font-family:"Great Vibes", cursive;
      font-size: 26px;
      line-height: 1.05;
      padding: 0 2px;
      opacity:.92;
      color:#111;
    }

    .tape{
      position:absolute;
      width: 64px;
      height: 22px;
      background: rgba(255,255,255,.35);
      border: 1px solid rgba(255,255,255,.22);
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
      border-radius: 6px;
      transform: rotate(-6deg);
      top: 8px;
      left: 10px;
      pointer-events:none;
    }
    .tape.r{
      left:auto;
      right: 10px;
      transform: rotate(7deg);
      opacity:.9;
    }

    /* разделитель */
    .separator{
      height:1px;
      background:rgba(255,255,255,.18);
      margin:24px 0;
      opacity:0;
      transition:opacity 1s ease;
    }
    .separator.show{ opacity:1; }

    /* CTA */
    .cta{
      border:1px solid rgba(255,255,255,.22);
      border-radius:18px;
      padding:16px;
      background:rgba(0,0,0,.38);
      opacity:0;
      transform:translateY(14px);
      transition:opacity 1s ease, transform 1s ease;
    }
    .cta.show{ opacity:1; transform:none; }
    .ctaTitle{
      font-weight:700;
      font-family:"Montserrat", sans-serif;
      letter-spacing:.2px;
    }
    .ctaHint{
      font-size:13.5px;
      color:rgba(255,255,255,.74);
      margin-top:6px;
      line-height:1.35;
      text-shadow: 0 2px 18px rgba(0,0,0,.55);
      font-family:"Montserrat", sans-serif;
    }
    .btn{
      margin-top:14px;
      width:100%;
      border:0;
      border-radius:16px;
      padding:14px;
      font-size:16px;
      font-weight:800;
      font-family:"Montserrat", sans-serif;
      background:rgba(255,255,255,.95);
      color:#0b0b12;
      cursor:pointer;
      box-shadow:0 14px 34px rgba(0,0,0,.35);
      position:relative;
    }
    @keyframes glow{
      0%,100%{ box-shadow:0 14px 34px rgba(0,0,0,.35),0 0 0 rgba(255,255,255,0); transform:translateY(0); }
      50%{ box-shadow:0 18px 44px rgba(0,0,0,.45),0 0 28px rgba(255,255,255,.55); transform:translateY(-1px); }
    }
    .btn.invite{ animation:glow 3.5s ease-in-out infinite; }

    .footer{
      text-align:center;
      font-size:15px;
      color:rgba(255,255,255,.62);
      padding:14px 14px 16px;
      opacity:0;
      transition:opacity 1s ease;
      text-shadow: 0 2px 18px rgba(0,0,0,.55);
      font-family:"Montserrat", sans-serif;
    }
    .footer.show{ opacity:1; }
  </style>
</head>

<body>
  <div class="bg"></div>
  <canvas id="stars"></canvas>

  <div class="wrap">
    <div class="paper" id="paper">
      <div class="content">
        <div class="scrollHint">
          <div class="scrollPill" id="scrollPill" title="Прокрутить дальше">
            <span>Прокрути вниз</span>
            <span class="arrow"></span>
          </div>
        </div>

        <div class="title" id="title">Привет моя любимая жена…</div>

        <div class="letter" id="letter"></div>

        <div class="separator" id="sep"></div>

        <div class="cta" id="cta">
          <div class="ctaTitle">Тот самый момент — 1:23:08</div>
          <div class="ctaHint">
            Нажми кнопку — откроется фильм.<br>
            Если начнётся с начала — просто перемотай на <b>1:23:08</b>.
          </div>
          <button class="btn" id="playBtn">Открыть фильм</button>
        </div>
      </div>

      <div class="footer" id="footer">Я всё ещё рядом. ❤️</div>
    </div>
  </div>

  <script>
    const startTime = 4988;
    const filmUrl = `https://www.kinopoisk.vip/film/5265603/?t=${startTime}&start=${startTime}#t=${startTime}`;

    // ===== 10 ФОТО (в корне репозитория) =====
    // Замени на реальные имена файлов
    const photos = [
      "1.jpg","2.jpg","3.jpg","4.jpg","5.jpg",
      "6.jpg","7.jpg","8.jpg","9.jpg","10.jpg"
    ];

    // Можно оставить, можно поменять
    const captions = [
      "…", "…", "…", "…", "…",
      "…", "…", "…", "…", "…"
    ];

    // ===== ТЕКСТ ПИСЬМА =====
    const letterText = `Привет моя любимая жена …
До сих пор не знаю правильно делаю или нет, что решил все это написать, но будь что будет уже. Явно хуже уже быть и так не может.

Все проблемы решаются в кругу семьи. Когда ты не думаешь как сделать хуже, а когда держишься вместе. Мы не зря женились. Для тебя может быть это ничего и не значит судя по всему, но я делал осознанный выбор в пользу тебя. 

Я сколько времени пытался донести до тебя одну простую вещь. Что мы семья. Что мы не враги друг другу, а родные люди, которые должны быть вместе. 

Я не могу сказать что проебал больше года с тобой. Потому что я был реально счастливым человеком. Я ни капли не сожалею. Ты правда стала для меня родным человеком. Мне правда тяжело все это отпускать. 

Спасибо за те дни которые мы были вместе. Просто спасибо тебе за все, что ты сделала. 

Нужно уметь решать проблемы, а не расходиться при каждом случае. Всегда можно обговорить. Нужно уметь разговаривать, а не игнорить ситуацию. Скажи кому стало легче от того что произошло? Мне точно нет. Помолчали, успокоились и продолжили дальше идти к совместной цели. Жизнь одна. 

Мне тяжело признавать, что в один момент потерял не только жену, но и двух дочерей. Может это и громко сказано, но я правда к ним относился как к своим. Я не был им по крови отцом, но делал все чтобы они меня считали родным человеком. 

Знаешь, очень хреново ощущается этот момент,  после стольких "споров" кто сильнее любит, какие у нас будут шторы в зале, после споров какое имя будет у нашего малыша, сейчас даже не знать как у тебя дела и все ли хорошо с тобой. 

Я все также хочу с тобой семью. 
Я все также хочу чтобы мы жили вместе и строили совместные планы на будущее. 
Я все также хочу от тебя нашего маленького малыша. 
Я все также хочу с тобой обвенчаться. 
Я все также хочу прожить именно с тобой всю жизнь. 
Я все также хочу видеть твою счастливую улыбку каждый день. 
Хочу просыпаться и засыпать в твоих объятиях. 

Ты должна понимать что никаких идеальных отношений не существует. Якобы в “идеальных отношениях” не должны ссориться, ругаться и т.д. Идеальные отношения - это когда даже в тяжёлых ситуациях, сильных ссорах или совершенных ошибках, каждый раз выбирают ДРУГ ДРУГА, но не в коем случае не отказываются ДРУГ ОТ ДРУГА. 

Пойми, что для меня не стрёмно приехать вот так к тебе. Зная что тебе это даже и не нужно. Зная что ты уже все и так решила. 
Да я переступаю через всю херню которая между нами сейчас и все равно бегу к тебе. 
Да, даже чтобы просто увидеть тебя, поговорить, обнять, поцеловать. 
Да, может и на час времени всего. 
Да, вот так сел и поехал к любимому человеку. 
Да, зная что уеду обратно уже в одиночестве и в никуда. 
Но я лучше тысячу раз опозорюсь и покажу свою слабость, нежели оставлю все как есть.
Я лучше сделаю свой шаг на встречу к тебе, чем потом буду сожалеть годами что не попытался все исправить. 
Я правда надеюсь, что все моменты с первого дня нашего знакомства по сегодняшний день были не зря в нашей жизни. 
Я все также жду тебя и хочу чтобы ты была рядом.

Спасибо что показала, что такое на самом деле значение слова "любовь". Я правда всем сердцем тебе благодарен. Что именно с тобой я почувствовал это. 

Я хотел бы это все высказать глядя тебе в глаза, но я знаю, что даже половины не смогу выразить. Пусть это письмо будет "прощальным" и я высказался по максимум, что так и не смог в жившую.

Честно скажу, я ни разу не хотел с тобой разводиться. Принял заявку от тебя лишь потому, что знаю итог, и нет смысла отнекивается уже. Я не бежал к тебе с просьбами обдумать все и не доводить до этого. Я замолчал до сегодняшнего дня. Дал тебе время все взвесить и для себя решить окончательно, чего именно ТЫ хочешь. Но и если ты это читаешь, значит я уже пошел прощаться с девочками, а ты все таки сделала свой выбор. Просто знай, что я все также по прежнему тебя люблю. Да, сквозь боль и переживания.

Понимаю конечно, что говорю это все в пустоту. Понимаю что, уже и так все ясно. Но хочу тебе сказать одно. Ты все сама решила и сама захотела расстаться. Я не знаю на эмоциях или ты давно этого хотела уже. У меня в голове не укладывается просто, как человек в один день строит со мной будущее, планирует детей, переезд и клянется в любви, а на следующий день становится абсолютно чужим и подает на развод. Я наивный человек который до сих пор не верит в это и ждет пока ты одумаешься, что ты совершаешь ошибку. Но я прям знаю наперед твою мысль “Я ЕСЛИ СОВЕРШАЮ ОШИБКУ, ТО ЭТО МОЯ ОШИБКА И МНЕ ЗА ЭТО ОТВЕЧАТЬ”. Но я тебе не раз повторял “Дурак учится на своих ошибках, умный на чужих, чтобы их не допускать”. Ты у меня умная. Я это точно знаю. И если ты решила что это наш конец, то это твой осознанный и взвешенный выбор. Глупость конечно, но я хочу чтобы ты знала, если ты все таки подумаешь, что была не права со своим решением и каким то магическим способом до тебя дойдет, что натворила и захочешь все вернуть. Я всегда тебя жду. Но это уже будет не Пасечнюк, которая забила на семью и все разрушила, а Чеснокова Дарья Витальевна, которая уверена в своем выборе мужа и хочет с ним будущего. Которая правда хочет чтобы мы были вместе. Раз и навсегда. Я надеюсь ты понимаешь про что я имею ввиду. Я не ухожу закрыв за собой дверь навсегда. Я просто меняю замок и оставлю тебе ключ для размышления. Да, звучит как бред которому увы никогда не сбыться.

Тяжело признавать конечно, но я проиграл. 

Нужно было всего лишь сесть и вместе поговорить. Не доводить до точки невозврата. Но я чисто физически этого не мог сделать находясь на работе. Ты решила все за нас обоих. Придумала у себя в голове непонятно что и сама же в это начала верить. Может я не прав, я не отрицаю, может где-то чего то недопонимаю. Но в любом случае, чтобы не было таких моментов, нужно было больше разговаривать и идти друг другу на уступки. Я никогда не говорил что ты в чем то плохая. Я тебе говорил, то что меня тревожило. То что мне было неприятно в твоих тех или иных действиях. Всего лишь нужно было прислушиваться друг к другу и не делать специально хуже.

Мы реально с тобой Биба и Боба два долбаеба, которые допустили чтобы так все закончилось и не нашли в нужный момент компромисс.

Я не жалею что в тебя влюбился.
Я бы влюбился в тебя заново, 
Ничего не меняя.
Влюбился бы в тебя заново, 
Ничуть не сомневаясь.
Влюбился бы в тебя заново, 
Даже если бы знал, что будет такой грустный финал.`;

    // ===== Разбиение текста на блоки, и вставка фото между ними =====
    // фото-раскладка: 1,2,1,2,1,2,1 (в сумме 10 фото)
    const photoLayout = [1,2,1,2,1,2,1]; // 7 вставок, суммарно 10 фото

    // ротации для естественности
    function rot(i){
      const arr = [-3.2, 2.6, -1.8, 3.1, -2.7, 2.1, -1.3, 2.9, -2.2, 2.4, -1.6, 3.0];
      return arr[i % arr.length];
    }

    const letterEl = document.getElementById("letter");

    // делим текст на абзацы по пустым строкам
    let paragraphs = letterText.split("\n\n").map(p => p.trim()).filter(Boolean);

    // первую строку "Привет..." убираем из тела (она в заголовке)
    if (paragraphs[0]?.startsWith("Привет моя любимая жена")) paragraphs.shift();

    // чтобы не было 1000 строк, превращаем каждый абзац в 1-2 строки:
    // делим только там, где пользователь сам делал переносы строк (список "Я всё также ...")
    function paragraphToLines(p){
      const lines = p.split("\n").map(x=>x.trim()).filter(Boolean);
      return lines.length ? lines : [p];
    }

    // функция вставки текста (абзац/строки)
    function addTextBlock(lines){
      lines.forEach(t=>{
        const p = document.createElement("p");
        p.className = "line";
        p.textContent = t;
        letterEl.appendChild(p);
      });
      const sp = document.createElement("div");
      sp.className = "spacer";
      letterEl.appendChild(sp);
    }

    // функция вставки фотоблока
    let photoIndex = 0;
    function addPhotoBlock(count){
      const block = document.createElement("div");
      block.className = `photoBlock ${count === 1 ? "one" : "two"}`;

      for(let i=0;i<count;i++){
        if(photoIndex >= photos.length) break;

        const card = document.createElement("div");
        const isWide = (count === 1); // одиночная — чуть шире смотрится
        card.className = `polaroid ${isWide ? "wide" : ""}`;
        card.style.setProperty("--rot", `${rot(photoIndex)}deg`);

        const cap = (captions[photoIndex] ?? "…");
        const src = photos[photoIndex];

        card.innerHTML = `
          <div class="tape"></div>
          <div class="tape r"></div>
          <div class="photo"><img src="${src}" alt="photo"></div>
          <div class="caption">${cap}</div>
        `;

        block.appendChild(card);
        photoIndex++;
      }

      letterEl.appendChild(block);

      const sp = document.createElement("div");
      sp.className = "spacer";
      letterEl.appendChild(sp);
    }

    // распределяем: текст-блоки + фото-вставки
    // делаем аккуратно: равномерно “разбрасываем” фото по письму
    const inserts = photoLayout.length;
    const chunkSize = Math.ceil(paragraphs.length / (inserts + 1));

    let pIdx = 0;
    for(let ins=0; ins<inserts; ins++){
      // добавляем кусок текста
      const until = Math.min(paragraphs.length, pIdx + chunkSize);
      for(; pIdx < until; pIdx++){
        addTextBlock(paragraphToLines(paragraphs[pIdx]));
      }
      // вставляем фото
      addPhotoBlock(photoLayout[ins]);
    }
    // остаток текста
    for(; pIdx < paragraphs.length; pIdx++){
      addTextBlock(paragraphToLines(paragraphs[pIdx]));
    }
    // если какие-то фото остались — вставим в конце парой
    while(photoIndex < photos.length){
      addPhotoBlock(Math.min(2, photos.length - photoIndex));
    }

    // ===== Анимации появления =====
    const scrollPill = document.getElementById("scrollPill");
    const title = document.getElementById("title");
    const sep = document.getElementById("sep");
    const cta = document.getElementById("cta");
    const footer = document.getElementById("footer");

    // подсказка
    setTimeout(() => scrollPill.classList.add("show"), 500);
    scrollPill.addEventListener("click", () => {
      // плавно прокрутить чуть ниже начала письма
      window.scrollTo({ top: 260, behavior: "smooth" });
    });
    function updateHint(){
      const y = window.scrollY || document.documentElement.scrollTop;
      if(y > 120) scrollPill.classList.remove("show");
      else scrollPill.classList.add("show");
    }
    window.addEventListener("scroll", updateHint, {passive:true});

    // заголовок
    setTimeout(()=>title.classList.add("show"), 600);

    // поочерёдное появление текста и фотоблоков “как письмо”
    const revealEls = Array.from(document.querySelectorAll("#letter .line, #letter .photoBlock, #letter .spacer"))
      .filter(el => !el.classList.contains("spacer")); // spacer без анимаций

    let t = 900;
    const step = 120;

    revealEls.forEach(el=>{
      setTimeout(()=>{
        if(el.classList.contains("line")) el.classList.add("show");
        if(el.classList.contains("photoBlock")) el.classList.add("show");
      }, t);
      t += step;
      // фотоблокам даём чуть больше “паузы”
      if(el.classList.contains("photoBlock")) t += 140;
    });

    const endTime = t + 260;
    setTimeout(()=>sep.classList.add("show"), endTime);
    setTimeout(()=>cta.classList.add("show"), endTime + 240);
    setTimeout(()=>{
      footer.classList.add("show");
      document.getElementById("playBtn").classList.add("invite");
    }, endTime + 720);

    document.getElementById("playBtn").onclick = () => window.open(filmUrl,"_blank");

    // ===== ЗВЁЗДЫ =====
    const c = document.getElementById("stars");
    const ctx = c.getContext("2d");
    function resize(){ c.width = innerWidth; c.height = innerHeight; }
    resize(); addEventListener("resize", resize);

    const stars = Array.from({length: 130}, () => ({
      x: Math.random()*innerWidth,
      y: Math.random()*innerHeight,
      r: 0.6 + Math.random()*1.7,
      vx: (-0.5 + Math.random())*0.08,
      vy: (-0.5 + Math.random())*0.10,
      t: Math.random()*Math.PI*2
    }));

    function draw(){
      ctx.clearRect(0,0,c.width,c.height);
      for(const s of stars){
        s.t += 0.01;
        s.x += s.vx; s.y += s.vy;
        if(s.x < -10) s.x = innerWidth+10;
        if(s.x > innerWidth+10) s.x = -10;
        if(s.y < -10) s.y = innerHeight+10;
        if(s.y > innerHeight+10) s.y = -10;

        const tw = (Math.sin(s.t)+1)*0.5;
        const alpha = 0.14 + tw*0.34;

        ctx.fillStyle = `rgba(255,255,255,${alpha})`;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r*(0.85+tw*0.35), 0, Math.PI*2);
        ctx.fill();
      }
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>
