<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Для тебя ❤️</title>

  <!-- Шрифты -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&family=Marck+Script&display=swap" rel="stylesheet">

  <meta name="theme-color" content="#0b0b12" />

  <style>
    :root{
      --text: rgba(255,255,255,.95);
      --muted: rgba(255,255,255,.75);
      --border: rgba(255,255,255,.18);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
      --r: 22px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:"Montserrat",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:#0b0b12;
      overflow-x:hidden;
    }

    /* ===== ФОН С ФОТО (ЧЁТКИЕ) ===== */
    .bg{
      position:fixed;
      inset:0;
      z-index:-3;
      background:#0b0b12;
    }
    .slide{
      position:absolute;
      inset:0;
      background-size:cover;
      background-position:center;
      opacity:0;
      transition:opacity 1.6s ease;
      z-index:1;
    }
    .slide.active{ opacity:1; }

    /* затемнение + виньетка для читаемости */
    .bg::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(1200px 700px at 50% 20%, rgba(0,0,0,.15), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.65));
      z-index:2;
      pointer-events:none;
    }

    /* ===== ЗВЁЗДЫ ===== */
    #stars{
      position:fixed;
      inset:0;
      z-index:-2;
      pointer-events:none;
      opacity:.8;
    }

    /* ===== КАРТОЧКА ===== */
    .wrap{
      min-height:100%;
      display:grid;
      place-items:start center;
      padding:22px 16px 44px;
    }
    .paper{
      width:min(760px,100%);
      border-radius:var(--r);
      border:1px solid var(--border);
      background:rgba(0,0,0,.42);
      box-shadow:var(--shadow);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      overflow:hidden;
    }

    .topbar{
      padding:14px 16px;
      display:flex;
      justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.35);
    }
    .chip{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      font-size:12.5px;
    }

    .content{ padding:20px; }

    .title{
      font-family:"Marck Script",cursive;
      font-size:clamp(30px,5vw,46px);
      margin:6px 0 12px;
      opacity:0;
      transform:translateY(14px);
      filter:blur(6px);
      transition:1s ease;
    }
    .title.show{ opacity:1; transform:none; filter:none; }

    .line{
      font-size:16px;
      line-height:1.75;
      font-weight:300;
      margin:0;
      opacity:0;
      transform:translateY(12px);
      filter:blur(6px);
      transition:1.1s ease;
    }
    .line.show{ opacity:1; transform:none; filter:none; }

    .spacer{ height:12px; }

    .separator{
      height:1px;
      background:rgba(255,255,255,.18);
      margin:20px 0;
      opacity:0;
      transition:1s ease;
    }
    .separator.show{ opacity:1; }

    /* ===== CTA ===== */
    .cta{
      border:1px solid rgba(255,255,255,.22);
      border-radius:18px;
      padding:16px;
      background:rgba(255,255,255,.08);
      opacity:0;
      transform:translateY(14px);
      filter:blur(6px);
      transition:1s ease;
    }
    .cta.show{ opacity:1; transform:none; filter:none; }

    .ctaTitle{ font-weight:700; }
    .ctaHint{
      font-size:12.8px;
      color:rgba(255,255,255,.7);
      margin-top:6px;
    }

    .btn{
      margin-top:14px;
      width:100%;
      border:0;
      border-radius:16px;
      padding:14px;
      font-size:16px;
      font-weight:800;
      background:rgba(255,255,255,.95);
      color:#0b0b12;
      cursor:pointer;
      box-shadow:0 14px 34px rgba(0,0,0,.35);
      position:relative;
    }

    /* СУПЕР-ПОДСВЕТКА */
    @keyframes glow{
      0%,100%{ box-shadow:0 14px 34px rgba(0,0,0,.35),0 0 0 rgba(255,255,255,0); }
      50%{ box-shadow:0 18px 44px rgba(0,0,0,.45),0 0 28px rgba(255,255,255,.55); }
    }
    .btn.invite{ animation:glow 3.5s ease-in-out infinite; }

    .footer{
      text-align:center;
      font-size:12.5px;
      color:rgba(255,255,255,.6);
      padding:14px;
      opacity:0;
      transition:1s ease;
    }
    .footer.show{ opacity:1; }
  </style>
</head>

<body>
  <div class="bg">
    <div class="slide active" id="slideA"></div>
    <div class="slide" id="slideB"></div>
  </div>

  <canvas id="stars"></canvas>

  <div class="wrap">
    <div class="paper">
      <div class="topbar">
        <div class="chip">Для тебя</div>
        <div class="chip">❤️</div>
      </div>

      <div class="content">
        <div class="title" id="title">Любимая…</div>

        <!-- ГОТОВЫЙ ТЕКСТ -->
        <p class="line">Я долго думал, как сказать это так, чтобы не громко,</p>
        <p class="line">не напоказ, а по-настоящему.</p>
        <div class="spacer"></div>

        <p class="line">Ты — самое лучшее, что со мной произошло.</p>
        <p class="line">С тобой мир стал спокойнее, а я — счастливее.</p>
        <div class="spacer"></div>

        <p class="line">Мне нравится просыпаться с мыслью о тебе.</p>
        <p class="line">Нравится, что рядом с тобой можно быть собой.</p>
        <div class="spacer"></div>

        <p class="line">Я не обещаю идеальности.</p>
        <p class="line">Но обещаю выбирать тебя снова и снова.</p>
        <div class="spacer"></div>

        <p class="line">Я хочу сохранить этот момент.</p>
        <p class="line">И очень хочу, чтобы ты увидела один кадр…</p>
        <p class="line">Именно с него.</p>

        <div class="separator" id="sep"></div>

        <div class="cta" id="cta">
          <div class="ctaTitle">Тот самый момент — 1:23:08</div>
          <div class="ctaHint">
            Нажми кнопку — откроется фильм  
            <br>Если начнётся с начала — просто перемотай на <b>1:23:08</b>
          </div>
          <button class="btn" id="playBtn">Открыть фильм</button>
        </div>
      </div>

      <div class="footer" id="footer">
        Это маленькое признание — от меня к тебе ❤️
      </div>
    </div>
  </div>

  <script>
    const startTime = 4988;
    const filmUrl = `https://www.kinopoisk.vip/film/5265603/?t=${startTime}&start=${startTime}#t=${startTime}`;

    /* ===== ФОТО (лежат в корне репозитория) ===== */
    const photos = [
      "1.jpg",
      "2.jpg",
      "3.jpg"
    ];

    const slideA = document.getElementById("slideA");
    const slideB = document.getElementById("slideB");
    let idx = 0, showA = true;

    function setBg(el, src){ el.style.backgroundImage = `url('${src}')`; }
    setBg(slideA, photos[0]);
    setBg(slideB, photos[1] || photos[0]);

    setInterval(()=>{
      if(photos.length < 2) return;
      idx = (idx+1)%photos.length;
      const incoming = showA ? slideB : slideA;
      const outgoing = showA ? slideA : slideB;
      setBg(incoming, photos[idx]);
      incoming.classList.add("active");
      outgoing.classList.remove("active");
      showA = !showA;
    }, 7000);

    /* ===== ПОЯВЛЕНИЕ ТЕКСТА ===== */
    const title = document.getElementById("title");
    const lines = document.querySelectorAll(".line");
    const sep = document.getElementById("sep");
    const cta = document.getElementById("cta");
    const footer = document.getElementById("footer");

    setTimeout(()=>title.classList.add("show"),300);
    lines.forEach((l,i)=>setTimeout(()=>l.classList.add("show"),700+i*220));

    const endTime = 700 + lines.length*220 + 400;
    setTimeout(()=>sep.classList.add("show"), endTime);
    setTimeout(()=>cta.classList.add("show"), endTime+200);
    setTimeout(()=>{
      footer.classList.add("show");
      document.getElementById("playBtn").classList.add("invite");
    }, endTime+600);

    document.getElementById("playBtn").onclick=()=>window.open(filmUrl,"_blank");

    /* ===== ЗВЁЗДЫ ===== */
    const c=document.getElementById("stars"),ctx=c.getContext("2d");
    function resize(){c.width=innerWidth;c.height=innerHeight} resize(); onresize=resize;
    const stars=Array.from({length:120},()=>({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*1.6,a:Math.random()}));
    function draw(){
      ctx.clearRect(0,0,c.width,c.height);
      stars.forEach(s=>{
        s.a+=0.01*(Math.random()>.5?1:-1);
        ctx.fillStyle=`rgba(255,255,255,${0.3+s.a*0.4})`;
        ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fill();
      });
      requestAnimationFrame(draw);
    } draw();
  </script>
</body>
</html>
